!function(a){a.fn.ezDraggable=function(b){var c={handle:"",cursor:"move",zIndex:1e3},d=a.extend({},c,b),e=d.handle?this.find(d.handle):this;return e.css("cursor",d.cursor).on("mousedown",function(b){var c=d.handle?a(this).addClass("active-handle").parent().addClass("draggable"):a(this).addClass("draggable"),e=c.css("z-index"),f=c.outerHeight(),g=c.outerWidth(),h=c.offset().top+f-b.pageY,i=c.offset().left+g-b.pageX;c.css("z-index",d.zIndex).parents().on("mousemove",function(b){a(".draggable").offset({top:b.pageY+h-f,left:b.pageX+i-g}).on("mouseup",function(){a(this).removeClass("draggable").css("z-index",e)})}),b.preventDefault()}).on("mouseup",function(){d.handle?a(this).removeClass("active-handle").parent().removeClass("draggable"):a(this).removeClass("draggable")})}}(jQuery);